<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.lgyun.system.user.mapper.EnterpriseProviderMapper">

    <!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="com.lgyun.system.user.entity.EnterpriseProviderEntity" id="enterpriseProviderMap">
        <result property="id" column="id"/>
        <result property="enterpriseId" column="enterprise_id"/>
        <result property="serviceProviderId" column="service_provider_id"/>
        <result property="matchPerson" column="match_person"/>
        <result property="matchDesc" column="match_desc"/>
        <result property="createUser" column="create_user"/>
        <result property="createTime" column="create_time"/>
        <result property="updateUser" column="update_user"/>
        <result property="updateTime" column="update_time"/>
        <result property="status" column="status"/>
        <result property="isDeleted" column="is_deleted"/>
    </resultMap>

    <resultMap type="com.lgyun.system.user.vo.ProviderListVO" id="providerListVO">
        <result property="serviceProviderId" column="service_provider_id"/>
        <result property="serviceProviderName" column="service_provider_name"/>
    </resultMap>

    <select id="listByEnterpriseId" resultMap="providerListVO">
       SELECT t1.service_provider_id, t2.service_provider_name FROM diyi_enterprise_provider t1 INNER JOIN diyi_service_provider t2
       ON t1.service_provider_id = t2.id WHERE t1.is_deleted = 0 AND t2.is_deleted = 0 AND t2.service_provider_state = 'NORMAL' AND t1.enterprise_id = #{param1}
    </select>

</mapper>
